{"ast":null,"code":"try {\n  const res = await axios.post(\"http://localhost:5000/api/auth/login\", {\n    email,\n    password\n  });\n  alert(\"Login successful!\");\n  localStorage.setItem(\"token\", res.data.token);\n  localStorage.setItem(\"user\", JSON.stringify(res.data.user)); // Save user object\n\n  if (res.data.user.role === \"admin\") {\n    window.location.href = \"/admin-dashboard\"; // Redirect Admin\n  } else {\n    window.location.href = \"/build-pizza\"; // Redirect User\n  }\n} catch (err) {\n  var _err$response, _err$response$data;\n  alert(\"Login failed: \" + (((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || \"Server error\"));\n}","map":{"version":3,"names":["res","axios","post","email","password","alert","localStorage","setItem","data","token","JSON","stringify","user","role","window","location","href","err","_err$response","_err$response$data","response","message"],"sources":["C:/Users/LENOVO/Desktop/Pizzalicious/frontend/src/pages/Login.jsx"],"sourcesContent":["try {\r\n  const res = await axios.post(\"http://localhost:5000/api/auth/login\", { email, password });\r\n\r\n  alert(\"Login successful!\");\r\n  localStorage.setItem(\"token\", res.data.token);\r\n  localStorage.setItem(\"user\", JSON.stringify(res.data.user)); // Save user object\r\n\r\n  if (res.data.user.role === \"admin\") {\r\n    window.location.href = \"/admin-dashboard\"; // Redirect Admin\r\n  } else {\r\n    window.location.href = \"/build-pizza\"; // Redirect User\r\n  }\r\n} catch (err) {\r\n  alert(\"Login failed: \" + (err.response?.data?.message || \"Server error\"));\r\n}\r\n"],"mappings":"AAAA,IAAI;EACF,MAAMA,GAAG,GAAG,MAAMC,KAAK,CAACC,IAAI,CAAC,sCAAsC,EAAE;IAAEC,KAAK;IAAEC;EAAS,CAAC,CAAC;EAEzFC,KAAK,CAAC,mBAAmB,CAAC;EAC1BC,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEP,GAAG,CAACQ,IAAI,CAACC,KAAK,CAAC;EAC7CH,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEG,IAAI,CAACC,SAAS,CAACX,GAAG,CAACQ,IAAI,CAACI,IAAI,CAAC,CAAC,CAAC,CAAC;;EAE7D,IAAIZ,GAAG,CAACQ,IAAI,CAACI,IAAI,CAACC,IAAI,KAAK,OAAO,EAAE;IAClCC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,kBAAkB,CAAC,CAAC;EAC7C,CAAC,MAAM;IACLF,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,cAAc,CAAC,CAAC;EACzC;AACF,CAAC,CAAC,OAAOC,GAAG,EAAE;EAAA,IAAAC,aAAA,EAAAC,kBAAA;EACZd,KAAK,CAAC,gBAAgB,IAAI,EAAAa,aAAA,GAAAD,GAAG,CAACG,QAAQ,cAAAF,aAAA,wBAAAC,kBAAA,GAAZD,aAAA,CAAcV,IAAI,cAAAW,kBAAA,uBAAlBA,kBAAA,CAAoBE,OAAO,KAAI,cAAc,CAAC,CAAC;AAC3E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}